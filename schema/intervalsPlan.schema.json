{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "additionalProperties": false,
  "required": ["events"],
  "properties": {
    "events": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["category","type","name","start_date_local","moving_time","icu_training_load","external_id","description"],
        "properties": {
          "category": { "type": "string", "enum": ["WORKOUT"] },
          "type":     { "type": "string", "enum": ["Ride"] },
          "name":     { "type": "string", "minLength": 3, "maxLength": 120 },
          "start_date_local": {
            "type": "string",
            "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$"
          },
          "moving_time": { "type": "integer", "minimum": 600 },
          "icu_training_load": { "type": "integer", "minimum": 0 },
          "external_id": { "type": "string", "minLength": 3, "maxLength": 120 },
          "description": { "type": "string", "minLength": 3, "maxLength": 1000 }
        }
      }
    }
  }
}
